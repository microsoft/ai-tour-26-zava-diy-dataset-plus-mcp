-- @pgsql Chat Query Editor 
-- Vector Similarity Search Query
-- 
-- Description: Search for products using vector similarity with pgvector
-- Replace the placeholder vector with your actual 1536-dimensional embedding
--
-- Usage: Replace [your_1536_dimensional_vector_here] with actual vector values

WITH input_vector AS (
    SELECT '[0.001911768689751625, 0.012391275726258755, 0.019186491146683693, -0.0395524799823761, -0.016329485923051834, -0.0479138046503067, 0.054099611937999725, -0.006854190491139889, 0.01990729570388794, 0.0019379797158762813, 0.018177365884184837, -0.0025342812296003103, -0.011369043961167336, -0.02627658098936081, 0.034048158675432205, -0.03265897184610367, -0.023183675482869148, 0.02504466101527214, -0.05745462700724602, 0.04510922357439995, 0.001351507380604744, 0.0641646608710289, 0.04395593702793121, -0.03087661974132061, 0.01408844068646431, 0.008774150162935257, -0.007876421324908733, 0.03575187548995018, -0.01694544591009617, -0.007312883622944355, 0.0018658993067219853, -0.02898942492902279, -0.020143194124102592, 0.019867978990077972, 0.04728474095463753, 0.02314436063170433, 0.027180861681699753, -0.007175275590270758, 0.0032485323026776314, 0.009088682942092419, -0.011867053806781769, -0.010405788198113441, -0.038372982293367386, 0.007666733115911484, 0.026093102991580963, -0.0034893464762717485, -0.04112514108419418, 0.04115135222673416, -0.031427051872015, -0.027521606534719467, 0.00640204967930913, -0.03496554493904114, 0.03320940583944321, -0.008636541664600372, 0.04904088005423546, -0.016211535781621933, 0.0012081657769158483, 0.0053896475583314896, 0.011591837741434574, -0.011172461323440075, -0.07045531272888184, -0.03782254830002785, -0.0023000198416411877, 0.025699937716126442, -0.03543734550476074, 0.024009324610233307, 0.02246287278831005, -0.013983597047626972, -0.03331424668431282, -0.011631154455244541, -0.0073325419798493385, 0.010196099989116192, 0.005166853778064251, -0.057087674736976624, -0.011414913460612297, 0.013079315423965454, 0.013944280333817005, -0.04107271879911423, -0.031767796725034714, -0.009933989495038986, 0.01665712334215641, -0.003160070162266493, -0.058450646698474884, -0.021152319386601448, -0.05672071874141693, -0.04290749505162239, 0.004829386714845896, -0.032947294414043427, -0.017443455755710602, 0.0310076754540205, -0.01082516461610794, -0.003928381484001875, 0.040679555386304855, -0.00035364445648156106, -0.0446898452937603, -0.0035384921357035637, -0.0033713968005031347, -0.0005467461887747049, 0.00701145688071847, 0.048385605216026306, 0.03873993456363678, -0.04872634634375572, -0.02166343480348587, -0.012391275726258755, -0.02520192787051201, -0.0025621303357183933, -0.01219469215720892, -0.012122612446546555, 0.010471316054463387, 0.03965732455253601, -0.044611211866140366, -0.06484614312648773, -0.0021427536848932505, 0.011860501952469349, 0.04427046701312065, -0.035017967224121094, 0.005560019519180059, -0.004485366400331259, -0.02898942492902279, -0.05001068860292435, -0.00784365739673376, 0.011388702318072319, 0.021021263673901558, -0.00252281385473907, 0.004809728357940912, 0.060442689806222916, -0.04862150177359581, -0.013826330192387104, 0.015281043946743011, -0.022646348923444748, 0.00038579394458793104, -0.025542670860886574, 0.0043608639389276505, 0.020510148257017136, 0.021715857088565826, -0.02872731350362301, -0.03897583484649658, -0.018780220299959183, 0.0009952009422704577, -0.014534029178321362, 0.06468887627124786, 0.016866812482476234, -0.0014063868438825011, -0.008747939020395279, 0.04295991733670235, -0.06736240535974503, 0.0028930450789630413, -0.038818567991256714, 0.002496602712199092, 0.008230270817875862, -0.05331328138709068, -0.0525793731212616, -0.04927678033709526, -0.023196781054139137, -0.01746966689825058, 0.0008477637311443686, -0.01095622032880783, 0.02234492264688015, 0.023904480040073395, 0.0031846428755670786, -0.03197748586535454, -0.019658289849758148, 0.01639501377940178, 0.001029602950438857, -0.025660621002316475, -0.04372003674507141, 0.009304923936724663, -0.02601446956396103, -0.029461223632097244, 0.005874552298337221, -0.010864481329917908, 0.00014078202366363257, 0.0739675909280777, -0.00021542208560276777, 0.03782254830002785, 0.02166343480348587, -0.013112079352140427, 0.029225323349237442, 0.01718134619295597, -0.021558590233325958, 0.0073784114792943, -0.013223476707935333, -0.009521164931356907, -0.05415203422307968, -0.004334652796387672, -0.057769160717725754, -0.00853825081139803, 0.026774590834975243, -0.02478255145251751, -0.025083977729082108, -0.026499373838305473, 0.019828662276268005, 0.025228139013051987, -0.010602370835840702, 0.026499373838305473, -0.03698379546403885, -0.01989419013261795, 0.006556039676070213, 0.03315698355436325, 0.03936900198459625, -0.013256239704787731, -0.01825599931180477, 0.020234933122992516, -0.004190491978079081, -0.05944667011499405, -0.00355487409979105, -0.048936035484075546, -0.007902632467448711, 0.00014293214189819992, 0.020365988835692406, 0.037717703729867935, -0.003911999519914389, -0.04099408537149429, 0.024310750886797905, -0.017836621031165123, 0.02749539539217949, 0.00109922606498003, 0.004534512292593718, 0.018098732456564903, 0.009875014424324036, -0.05860791355371475, 0.026591112837195396, 0.01441607903689146, 0.021335797384381294, 0.0134135065600276, -0.007365305908024311, 0.016041165217757225, -0.017784198746085167, -0.02260703407227993, -0.03171537443995476, 0.02953985705971718, 0.027600238099694252, -0.022109022364020348, 0.013800119049847126, -0.04676051810383797, -0.004891637712717056, 0.008715175092220306, -0.021755173802375793, 0.026892540976405144, -0.019055435433983803, -0.016185324639081955, 0.011198672465980053, -0.032973505556583405, 0.007994371466338634, -0.02343268133699894, -0.0031043714843690395, -0.0075553362257778645, -0.02006456069648266, -0.002370462054386735, -0.00487525574862957, 0.0049080196768045425, 0.0019052159041166306, 0.015215516090393066, 0.0012040702858939767, 0.03061451017856598, -0.02098194882273674, 0.029041847214102745, -0.015792159363627434, 0.0052553159184753895, 0.003124029841274023, -0.003997185733169317, -0.007437386084347963, -0.03693137317895889, 0.018898168578743935, 0.0182822085916996, 0.016971657052636147, -0.01897680200636387, 0.011834290809929371, 0.014271918684244156, 0.010117466561496258, -0.0019183214753866196, 0.016421224921941757, 0.041229985654354095, -0.011034853756427765, 0.011401807889342308, 0.025516459718346596, 0.07208039611577988, 0.007922290824353695, 0.013105526566505432, 0.05619649589061737, 0.012712360359728336, -0.010890692472457886, -0.00027439696714282036, 0.007909185253083706, 0.010785847902297974, 0.01883264072239399, 0.06605185568332672, -0.015910109505057335, 0.03140084072947502, 0.026093102991580963, -0.01978934556245804, 0.01252233050763607, 0.001186869223602116, 0.004111859016120434, 0.0031535173766314983, 0.029435012489557266, -0.03957869112491608, -0.0010132209863513708, 0.039185523986816406, -0.029068058356642723, 0.0027357786893844604, 0.06804389506578445, -0.006212019361555576, 0.04754684865474701, -0.00030716077890247107, -0.01963207870721817, 0.04026017710566521, -0.04172799736261368, -0.040679555386304855, -0.007162170019000769, 0.018609847873449326, 0.026197947561740875, -0.005540361162275076, 0.007509466726332903, 0.045030590146780014, 0.015792159363627434, -0.00351883377879858, 0.020274249836802483, 0.02408795803785324, -0.0498272106051445, 0.03454616665840149, 0.004105306230485439, 0.004357587546110153, -0.05132124200463295, -0.02723328396677971, -0.029723335057497025, 0.0005401934031397104, 0.0008469446329399943, -0.017771093174815178, -0.003836642950773239, -0.025765465572476387, -0.0017807134427130222, -0.003997185733169317, -0.010209205560386181, -0.031112520024180412, -0.016696440055966377, 0.018452581018209457, -0.025647515431046486, -0.019854873418807983, -0.018491897732019424, -0.010720320977270603, 0.0015251556178554893, -0.00342054245993495, 0.0013662511482834816, -0.02353752590715885, -0.03493933379650116, 0.05677314102649689, 0.011729446239769459, 0.0068935067392885685, 0.038241926580667496, 0.010156783275306225, 0.02085089311003685, 0.006182532291859388, 0.02398311346769333, -0.008695516735315323, 0.011218330822885036, 0.06285410374403, 0.013734592124819756, -0.00023200878058560193, 0.004593486897647381, 0.06322105973958969, 0.055305320769548416, -0.009920883923768997, -0.045712076127529144, 0.0047867936082184315, 0.014809245243668556, -0.00456727622076869, -0.002968401648104191, 0.006454471964389086, 0.03698379546403885, 0.025280561298131943, 0.03375983610749245, 0.03305213898420334, -0.03355014696717262, -0.026171736419200897, 0.030221344903111458, 0.02668285183608532, 0.015883898362517357, -0.010464763268828392, 0.0022819999139755964, -0.006559316068887711, -0.015228621661663055, -0.03792739287018776, -0.0015955978306010365, 0.011283858679234982, 0.02746918424963951, -0.01400980819016695, 0.019736923277378082, 0.000606130575761199, -0.017915254458785057, 0.058817602694034576, -0.05949908867478371, -0.03396952524781227, -0.04044365510344505, 0.002930723363533616, -0.014874772168695927, 0.05430930107831955, 1.4423758329940028e-05, 0.025254350155591965, -0.012240561656653881, -0.007404622621834278, -0.008361325599253178, -0.06133386492729187, 0.09131930768489838, 0.005494492128491402, 0.05019416660070419, -0.012155375443398952, -0.022567717358469963, 0.0041675572283566, -0.06620912253856659, -0.032947294414043427, 0.01800699345767498, 0.03551597520709038, 0.020077666267752647, -0.053418125957250595, -0.011781868524849415, 0.006690371315926313, -0.01307276263833046, -0.006775557063519955, -0.0017233766848221421, -0.018636059015989304, 0.04804486036300659, 0.024192802608013153, -0.03520144522190094, -0.02558198757469654, -0.0013924621744081378, 0.00927216000854969, -0.046236298978328705, -0.04919814690947533, -0.07076984643936157, 0.00921318493783474, -0.001326115452684462, -0.0007179371314123273, -0.027678871527314186, 0.025005344301462173, -0.031505685299634933, -0.0016594872577115893, -0.000603673339355737, 0.020955737680196762, 0.011277305893599987, 0.007214592304080725, -0.02980196662247181, 0.009914331138134003, 0.00728012016043067, -0.0671527162194252, -0.006359456572681665, 0.0007719974382780492, -0.029618490487337112, -0.08408505469560623, -0.04904088005423546, -0.005032522138208151, 0.0027996681164950132, -0.004380522295832634, 0.03389089182019234, 0.03735075145959854, 0.058293383568525314, 0.06626154482364655, -0.03976216912269592, -0.06710029393434525, -0.0327376052737236, -0.004308441653847694, 0.029408801347017288, -0.013944280333817005, -0.011886712163686752, -0.031427051872015, 0.011257647536695004, -0.029749544337391853, 0.03153189644217491, -0.03981459140777588, -0.027652660384774208, 0.009796380996704102, 0.038923412561416626, -0.042724017053842545, 0.02058878168463707, -0.035411134362220764, -0.03386468067765236, 0.0701407790184021, 0.004636080004274845, -0.002581788692623377, -0.023930691182613373, -0.055462587624788284, 0.019199596717953682, -0.038110870867967606, -0.030011655762791634, -0.009927436709403992, 0.04075818881392479, 0.001821668236516416, 0.013138290494680405, -0.07433454692363739, -0.06877779960632324, -0.017941465601325035, 0.029723335057497025, -0.009055919013917446, -0.013747697696089745, -0.011801526881754398, -0.006149768363684416, -0.01476992852985859, 0.023498209193348885, 0.013098973780870438, 0.005818853620439768, -0.01681439019739628, -0.03737696260213852, -0.032711394131183624, -0.024009324610233307, -0.020208721980452538, -0.014612661674618721, -0.02015629969537258, -0.009501506574451923, 0.03355014696717262, -0.04427046701312065, -0.05672071874141693, 0.012175033800303936, -0.03994564339518547, -0.0016840602038428187, -0.013695275411009789, -0.004744200501590967, -0.015241727232933044, 0.032685182988643646, 0.014599556103348732, -0.0052389344200491905, 0.0007937034242786467, 0.0015972360270097852, 0.02656490169465542, -0.0028881304897367954, 0.01062858197838068, -0.014520923607051373, -0.016172219067811966, -0.04796622693538666, 0.018871957436203957, -0.010248521342873573, 0.0033550148364156485, 0.016486752778291702, -0.0335763581097126, -0.017377927899360657, -0.01328245084732771, -0.03328803554177284, 0.04012912139296532, -0.019173385575413704, 0.004993205424398184, -0.007823999039828777, 0.00663467263802886, 0.025948941707611084, -0.03640715405344963, 0.003970974590629339, 0.014258813112974167, 0.055462587624788284, 0.000996020040474832, -0.04471605643630028, 0.02896321378648281, 0.041256196796894073, -0.005409305915236473, -0.024572862312197685, -0.0021067133639007807, 0.03279002755880356, 0.005497768521308899, 0.026591112837195396, -0.03478206694126129, 0.06039026752114296, -0.014481606893241405, 0.0012351959012448788, 0.01923891343176365, 0.010425446555018425, 0.058450646698474884, 0.00039541831938549876, 0.004898190498352051, 0.03902825713157654, 0.04904088005423546, 0.022292500361800194, -0.03533250093460083, -0.026591112837195396, -0.021768279373645782, 0.02083778753876686, -0.00975051149725914, -0.05651102960109711, -0.022554611787199974, 0.050561122596263885, 0.029172902926802635, -0.015189304947853088, -0.024205908179283142, 0.012102954089641571, -0.0008092662901617587, -0.009023155085742474, -0.015897003933787346, -0.02060188725590706, -0.029749544337391853, -0.042592961341142654, 0.04974857717752457, -0.008669305592775345, 0.0663139671087265, -0.060862064361572266, 0.014140862971544266, 0.019723817706108093, -0.022947777062654495, -0.02273808792233467, -0.014127757400274277, -0.012758229859173298, -0.0031617083586752415, 0.021860018372535706, -0.02314436063170433, -0.02639453113079071, 0.004223255906254053, 0.01705029048025608, 0.03341909125447273, 0.008865888230502605, 0.014468501321971416, -0.007063878700137138, 0.038504038006067276, -0.016447436064481735, -0.016866812482476234, 0.029041847214102745, -0.006205466575920582, -0.0013228390598669648, -0.008380983956158161, 0.005969567224383354, -0.03032618761062622, 0.03171537443995476, -0.049067091196775436, 0.0005672235856764019, -0.004354311153292656, -0.0024081405717879534, 0.00632669311016798, -0.0081844013184309, -0.026735274121165276, 0.022109022364020348, -0.016080481931567192, 0.02466460131108761, 0.014049123972654343, -0.025241244584321976, -0.02369479276239872, -0.03902825713157654, -0.018898168578743935, -0.029330167919397354, -0.011801526881754398, -0.013891858048737049, -0.02953985705971718, 0.031348418444395065, 0.03915931284427643, -0.0073456475511193275, -0.01177531573921442, 0.026053786277770996, 0.010779295116662979, -0.007627416402101517, 0.008964180015027523, -0.01775798760354519, 0.016185324639081955, 0.009429425932466984, -0.038504038006067276, -0.03994564339518547, 0.02395690232515335, 0.0018478792626410723, -0.004711436573415995, 0.016879918053746223, 0.00934424065053463, 0.0003982851339969784, -0.003590914187952876, 0.023367153480648994, -0.01677507348358631, -0.029041847214102745, -0.011257647536695004, -0.002873386722058058, -0.012279878370463848, -0.024533545598387718, 0.01746966689825058, 0.010294390842318535, -0.020746048539876938, -0.01663091406226158, 0.010812059044837952, 0.027547815814614296, -0.010104360990226269, 0.020877104252576828, 0.03530628979206085, 1.6689069525455125e-05, -0.0014014722546562552, 0.01895059086382389, 0.017508983612060547, 0.03318319469690323, 0.0280196163803339, -0.034310270100831985, 0.0019412561086937785, 0.030168922618031502, -0.021702751517295837, 0.04094166308641434, -0.03491312265396118, 0.037848759442567825, 0.02898942492902279, -0.00819750688970089, 0.018229788169264793, -0.0001280860451515764, 0.010857928544282913, 0.01653917506337166, 0.0019936782773584127, -0.0016668591415509582, 0.01706339605152607, -0.008918310515582561, -0.00355487409979105, 0.04794001579284668, 0.005740220658481121, 0.013315214775502682, -0.016709545627236366, -0.05116397514939308, 0.010137124918401241, -0.010392682626843452, -0.014783034101128578, -0.024730129167437553, -0.012017767876386642, 0.034991756081581116, 0.01075963769108057, 0.005533808376640081, 0.019867978990077972, -0.03006407804787159, -0.030850408598780632, -0.012168481014668941, -0.03197748586535454, 0.0075684417970478535, 0.01095622032880783, -0.03158431872725487, 0.02031356655061245, -0.022305605933070183, 0.045292697846889496, 0.013354531489312649, -0.005628823768347502, -0.008079556748270988, -0.04377245903015137, 0.0038628538604825735, -0.05147850885987282, -0.017941465601325035, -0.016984762623906136, -0.049224358052015305, 0.014140862971544266, -0.012614069506525993, 0.0024900499265640974, 0.006123557221144438, 0.013020340353250504, 0.005576401483267546, 0.032003697007894516, 0.004075818695127964, -0.024730129167437553, -0.015490732155740261, -0.033366668969392776, -0.04288128390908241, -0.0008616883424110711, 0.0004427210660651326, 0.005537084769457579, 0.018452581018209457, -0.010137124918401241, 0.012686149217188358, 0.011120039038360119, -0.006110451649874449, -0.029356379061937332, 0.006166150327771902, 0.01623774692416191, 0.009501506574451923, -0.016001848503947258, 0.0012827033642679453, -0.05577712133526802, -0.05129503086209297, -0.008446511812508106, -0.013105526566505432, 0.033523935824632645, -0.020890209823846817, 0.022122127935290337, 0.007941949181258678, -0.009278712794184685, 0.040548499673604965, 0.013374189846217632, 0.006169426720589399, -0.013433164916932583, 0.015569365583360195, -0.007286672946065664, -0.006782109849154949, 0.008439959026873112, -0.06096690893173218, 0.03994564339518547, 0.01773177646100521, -0.000998477335087955, -0.012869627214968204, -0.030221344903111458, -0.02518882229924202, 0.0018282209057360888, 0.03779633715748787, 0.05187167227268219, -0.017849726602435112, -0.01496651116758585, 0.005759879015386105, 0.024140380322933197, 0.00026374871958978474, -0.0014727335656061769, 0.03997185453772545, 0.01456024032086134, -0.046367350965738297, -0.007882974110543728, 0.021886229515075684, 0.007352200336754322, 0.015372782945632935, 0.03585672006011009, -0.003433648031204939, -1.3284703527460806e-05, -0.0007355476845987141, 0.005530531983822584, 0.016014954075217247, -0.010124019347131252, -0.003051949432119727, -0.006913165096193552, -0.02841278165578842, -0.0071425121277570724, 0.01456024032086134, -0.028910791501402855, -0.004187215585261583, 0.04387730360031128, -0.03834677115082741, -0.03588293120265007, 0.06972140073776245, -0.04330065846443176, -0.011159355752170086, -0.0031813664827495813, 0.04070576652884483, -0.004344481974840164, 0.0288583692163229, -0.004118411801755428, -0.032187171280384064, -0.01868848130106926, -0.02276429906487465, -0.010877586901187897, 0.0169061291962862, 0.02546403743326664, 0.0247956570237875, -0.029828177765011787, -0.010890692472457886, -0.015202410519123077, 0.008996943943202496, 0.00029118842212483287, -0.011500099673867226, -0.019120963290333748, 0.001367070246487856, 0.024153485894203186, 0.015202410519123077, -0.007286672946065664, 0.02191244065761566, 0.010982431471347809, -0.017273083329200745, -0.000663057726342231, -0.023747213184833527, 0.08943211287260056, -0.026997385546565056, -0.040024276822805405, -0.02208281308412552, 0.01150665245950222, 0.026040680706501007, -0.01598874293267727, 0.03950005769729614, 0.01516309380531311, 0.033104561269283295, 0.03137462958693504, 0.031872641295194626, -0.016185324639081955, 0.0008207336068153381, -0.031872641295194626, -0.001821668236516416, 0.026460057124495506, 0.015149988234043121, -0.04374624788761139, -0.029146691784262657, 0.013308661989867687, -0.011539416387677193, -0.0007154798367992043, 0.0363285206258297, -0.03182021901011467, -0.0011835928307846189, 0.027836138382554054, 0.013433164916932583, -0.01441607903689146, 0.009678431786596775, -0.050587333738803864, -0.05310359224677086, -0.010438552126288414, 0.061124175786972046, -0.004298612475395203, 0.0023442511446774006, 0.014363656751811504, -0.022384239360690117, 0.01408844068646431, 0.031767796725034714, -0.010255074128508568, -0.009783275425434113, -0.0016603063559159636, 0.012574752792716026, -0.02710222825407982, 0.01746966689825058, 0.009095235727727413, 0.01123798917979002, -0.022921565920114517, 0.017508983612060547, 0.02883215807378292, -0.030090289190411568, -0.043798670172691345, 0.002481859177350998, 0.04280265048146248, 0.009901225566864014, 0.0064118788577616215, 0.011388702318072319, -0.020877104252576828, 0.04382488131523132, -0.007175275590270758, -0.0012261858209967613, 0.004098753444850445, -0.021899335086345673, -0.006873848848044872, -0.011821185238659382, 0.010248521342873573, 0.013171054422855377, -0.005710733123123646, -0.016486752778291702, -0.057874005287885666, -0.004059436731040478, 0.00456727622076869, 0.038661304861307144, -0.009711194783449173, 0.05960393324494362, -0.008787255734205246, -0.061019331216812134, 0.008983838371932507, -0.011428019031882286, 0.03588293120265007, 0.01731240004301071, -0.049224358052015305, 0.05630134046077728, 0.002648954512551427, 0.028517626225948334, 0.03748180717229843, -0.00025760551216080785, 0.02180759608745575, -0.003436924424022436, -0.04911951348185539, 0.02421901375055313, 0.028465203940868378, -0.025254350155591965, 0.023589948192238808, -0.002680080244317651, 0.040286388248205185, -0.01964518427848816, 0.009698089212179184, 0.005691074766218662, -0.01664401777088642, 0.0005094773368909955, 0.001524336519651115, 0.010674451477825642, -0.0019183214753866196, -0.0025998088531196117, -0.07208039611577988, -0.04295991733670235, 0.024717023596167564, -0.02043151669204235, 0.035122811794281006, -0.0024900499265640974, 0.0007719974382780492, -0.00703766755759716, -0.014743717387318611, -0.004639356397092342, 0.03693137317895889, -0.016434330493211746, 0.002616190817207098, -0.03719348460435867, 0.008564461953938007, 0.021899335086345673, -0.01095622032880783, 0.02666974626481533, -0.02642074227333069, -0.008099215105175972, 0.005130813457071781, -0.033366668969392776, -0.021021263673901558, -0.013852541334927082, -0.02584409900009632, -0.00012695978512056172, -0.021886229515075684, 0.0284389927983284, -0.01880643144249916, -0.024585967883467674, 0.015464521013200283, 0.0158314760774374, 0.02733812853693962, 0.06023300066590309, 0.041780419647693634, -0.021073685958981514, 0.006644501816481352, 0.007765024434775114, -9.675564797362313e-05, -0.021584801375865936, -0.03208233043551445, -0.022842932492494583, -0.005369989667087793, 0.023485103622078896, 0.049591314047575, -0.028229303658008575, 0.022305605933070183, 0.0056386529467999935, 0.011002089828252792, 0.023367153480648994, 0.0026817184407263994, 0.0365644171833992, 0.009639115072786808, 0.014586451463401318, 0.009324582293629646, -0.031767796725034714, -0.04046986624598503, -0.0021329245064407587, 0.012201244942843914, 0.051242608577013016, -0.009933989495038986, -0.038137082010507584, -0.02452044002711773, -0.0047736880369484425, 0.008741386234760284, 0.016224641352891922, 0.05624891817569733, -0.04985342174768448, -0.0007805979112163186, -0.002404864178970456, 0.0017889044247567654, 0.002290190663188696, 0.0008969094487838447, -0.0002668203378561884, 0.01238472294062376, 0.02571304328739643, -0.038268137723207474, -0.003797326236963272, 0.042042527347803116, 0.026040680706501007, 0.031767796725034714, 0.02150616981089115, 0.009514612145721912, 0.02627658098936081, -0.026158630847930908, 0.018347736448049545, 0.05755947157740593, 0.012692702002823353, -0.0017987334867939353, -0.06159597635269165, 0.007090089842677116, 0.0303523987531662, -0.01705029048025608, 0.003964421804994345, -0.01420639082789421, 0.0060383714735507965, -0.027783716097474098, 0.016001848503947258, -0.02180759608745575, -0.002278723521158099, -0.011971898376941681, 0.0071097481995821, 0.01677507348358631, -0.02520192787051201, -0.022567717358469963, -0.005946632474660873, -0.0020542913116514683, 0.012561647221446037, 0.0280196163803339, 0.016984762623906136, 0.0032075776252895594, 0.01923891343176365, -0.03197748586535454, 0.05116397514939308, 0.017128923907876015, -0.017089607194066048, -0.017273083329200745, -0.010451657697558403, 0.0007126129930838943, 0.02124405838549137, -0.0015620149206370115, 0.01854432001709938, 0.0040004621259868145, -0.01693234033882618, -0.009186973795294762, 0.01719444990158081, 0.01866227015852928, -0.057769160717725754, -0.031610529869794846, -0.010294390842318535, -0.007738813292235136, -0.004626250825822353, 0.01456024032086134, 0.015936320647597313, -0.020890209823846817, -0.023589948192238808, 0.027311917394399643, -0.004888361319899559, 0.03630230948328972, 0.044768478721380234, -0.005874552298337221, 0.011545969173312187, -0.007529125083237886, -0.031217364594340324, -0.009547376073896885, 0.002105075167492032, -0.006071134936064482, -0.00754878344014287, 0.01530725508928299, 0.027521606534719467, 0.011873606592416763, -0.00426257262006402, 0.014599556103348732, 0.04248811677098274, 0.03509660065174103, -0.054099611937999725, -0.040967874228954315, 0.019527234137058258, 0.0048424918204545975, -0.0035352157428860664, -0.0038530246820300817, 0.010766190476715565, 0.0538899265229702, 0.0018839194672182202, -0.0022459595929831266, 0.021322691813111305, 0.01718134619295597, 0.007103195413947105, 0.012967918068170547, 0.005117707885801792, 0.011441124603152275, -0.032318226993083954, -0.018334630876779556, 0.02381274104118347, -0.030090289190411568, -0.006313587538897991, 0.0020936077926307917, 0.02016940526664257, 0.021191636100411415, 0.021728962659835815, 0.02028735540807247, -0.04762548208236694, 0.03748180717229843, 0.031427051872015, -0.014704400673508644, -0.029618490487337112, -0.019736923277378082, 0.010667898692190647, -0.015477626584470272, 0.02125716395676136, -0.0012057084823027253, -0.02571304328739643, 0.06793905049562454, -0.004501748364418745, -0.004242914263159037, 0.012692702002823353, -0.015477626584470272, -0.010903798043727875, -0.015071355737745762, 0.10746531933546066, 0.024297645315527916, -0.0030666931997984648, 0.01788904331624508, 0.0010246883612126112, 0.0055862306617200375, -0.004518130328506231, -0.017967676743865013, -0.009606351144611835, 0.018871957436203957, 0.016355697065591812, -0.010615476407110691, -0.007090089842677116, -0.03126978501677513, 0.029618490487337112, -0.039185523986816406, -0.0007433290593326092, -0.0035352157428860664, -0.03727211803197861, -0.013302109204232693, -0.016132902354002, -0.025136400014162064, -0.01988108456134796, 0.004278954584151506, -0.012699254788458347, -0.013433164916932583, 0.014887877739965916, -0.016421224921941757, 0.04728474095463753, 0.03640715405344963, 0.02193865180015564, 0.0455285981297493, -0.040155332535505295, 0.014285024255514145, 0.010268179699778557, 0.028124459087848663, -0.0142194963991642, -0.03711485117673874, -0.025346089154481888, 0.028072038665413857, 0.021584801375865936, 0.025083977729082108, -0.009757064282894135, 0.016971657052636147, 0.027390550822019577, -0.017626933753490448, 1.8442444343236275e-05, -0.01988108456134796, 0.002126371720805764, 0.009599798358976841, -0.0009894672548398376, 0.0013089145068079233, -0.0335763581097126, 0.0015677486080676317, 0.025647515431046486, -0.020392199978232384, -0.04345792531967163, 0.008833125233650208, 0.03313077241182327, 0.030535876750946045, -0.016290169209241867, -0.028255514800548553, 0.0061333863995969296, 0.012188139371573925, 0.0018691756995394826, 0.019723817706108093, -0.0032698288559913635, 0.01936996728181839, 0.01722066104412079, -0.008020582608878613, -0.029723335057497025, 0.010084702633321285, 0.01693234033882618, 0.010110913775861263, 0.006264441646635532, 0.01922580786049366, 0.033366668969392776, 0.024441806599497795, 0.013157948851585388, -0.0696689784526825, 0.0068410849198699, -0.005052180495113134, 0.013380742631852627, -0.013347978703677654, 0.007057325914502144, -0.013629747554659843, -0.004636080004274845, 0.016853706911206245, -0.00982259213924408, -0.03349772468209267, 0.03698379546403885, -0.017377927899360657, -0.02154548652470112, -0.0037449041847139597, -0.016748862341046333, -0.0012867988552898169, -0.027862349525094032, 0.015215516090393066, -0.021977968513965607, -0.018924379721283913, -0.004219979513436556, -0.03480827808380127, 0.00020682158356066793, -0.002747246064245701, -0.005042351316660643, -0.022292500361800194, 0.03735075145959854, -0.04419183358550072, -0.005592783447355032, 0.02598825842142105, 0.0029700398445129395, -0.018609847873449326, -0.007312883622944355, 0.004288783762603998, 0.02980196662247181, 0.0013523264788091183, -0.013321767561137676, -0.036354731768369675, -0.005825406406074762, 0.022449767217040062, 0.009475295431911945, 0.0027996681164950132, -0.042566750198602676, 0.015870792791247368, 0.016001848503947258, 0.010038833133876324, 0.02626347541809082, 0.007188381161540747, -0.011729446239769459, -0.02775750495493412, -0.025123294442892075, 0.0033075071405619383, -0.0011082360288128257, 0.01280409935861826, 0.014271918684244156, 0.009501506574451923, 0.03003786690533161, -0.01936996728181839, -0.04605282098054886, -0.01530725508928299, 0.018911274150013924, -0.013498692773282528, -0.015425204299390316, 0.029435012489557266, 0.04723231866955757, 0.02775750495493412, -0.037036217749118805, 0.02246287278831005, -0.020785365253686905, 0.005949908867478371, -0.0032649142667651176, 0.02150616981089115, -0.022829826921224594, -0.0013351255329325795, 0.021191636100411415, 0.010392682626843452, -0.006343074608594179, 0.0027488842606544495, -0.005845064762979746, -0.011224883608520031, -0.032685182988643646, -0.013243134133517742, 0.0158314760774374, -0.0264076367020607, -0.014442290179431438, -0.006349627394229174, -0.00954082328826189, 0.0038530246820300817, -0.005265145096927881, -0.001962552545592189, 0.010124019347131252, 0.03617125377058983, -0.0002789019781630486, 0.025411615148186684, -0.003087989753112197, 0.03777012601494789, -0.03137462958693504, -0.0024671154096722603, 0.03724590688943863, 0.0003692072641570121, -0.026329003274440765, -0.01733861118555069, -0.022397344931960106, -0.00117622094694525, -0.017679356038570404, -0.009363899007439613, -0.005297909025102854, -0.017508983612060547, -0.020759154111146927, -0.008787255734205246, 0.0034270952455699444, -0.020667415112257004, 0.005841788370162249, 0.0026129144243896008, 0.03564703091979027, -0.030929042026400566, 0.013092420995235443, -0.012122612446546555, -0.008079556748270988, 0.010648240335285664, -0.02828172594308853, 0.009619456715881824, 0.008131979033350945, 0.026237264275550842, 0.008892099373042583, -0.010602370835840702, 0.005222552455961704, 0.03071935474872589, -0.011349385604262352, -0.003951316233724356, -0.0022295776288956404, 0.011821185238659382, 0.008800361305475235, 0.011277305893599987, -0.015569365583360195, -0.011054511182010174, 0.010582712478935719, 0.022305605933070183, -0.01922580786049366, 0.01400980819016695, -0.02018251083791256, -0.02043151669204235, -0.0038006026297807693, 0.003222321392968297, -0.06232988461852074, 0.0010173164773732424, 0.017259977757930756, -0.022633245214819908, 0.02195175737142563, 0.024074852466583252, 0.030168922618031502, 0.015149988234043121, -0.03048345446586609, -0.042986128479242325, -0.0403912328183651, 0.008158190175890923, -0.010864481329917908, 0.013773907907307148, -0.01826910488307476, 0.016552280634641647, 0.03137462958693504, -0.00913455244153738, 0.01693234033882618, -0.014612661674618721, 0.038818567991256714, -0.0059990547597408295, 0.010864481329917908, -0.022436661645770073, 0.02259392850100994, 0.008996943943202496, -0.002832431811839342, -0.044060781598091125, 0.030247556045651436, -0.011794974096119404, -0.03331424668431282, 0.021217847242951393, 0.021060580387711525, 0.006018713116645813, 0.003738351399078965, -0.023249203339219093, -0.012227456085383892, -0.00018450124480295926, 0.031112520024180412, -0.005458451807498932, -0.007286672946065664, 0.004767135251313448, 0.00629065278917551, -0.011794974096119404, 0.017692461609840393, -0.012876180000603199, 0.031243575736880302, 0.00338450213894248, 0.0011172461090609431, -0.04987963289022446, -0.024022430181503296, -0.008374431170523167, 0.023091938346624374, 0.04987963289022446, 0.017128923907876015, -0.019867978990077972, -0.0032321505714207888, -0.01989419013261795, 0.011414913460612297, -0.015372782945632935, -0.027783716097474098, -0.01652606949210167, -0.02031356655061245, -0.005042351316660643, 0.011395255103707314, 0.025935836136341095, 0.0032255977857857943, -0.003794049844145775, -0.01313173770904541, 0.0003018366696778685, 0.015634892508387566, 0.005501044914126396, 0.01151975803077221, -0.005157024599611759, -0.0273643396794796, 0.0011983365984633565, -0.018491897732019424, 0.008741386234760284, -0.023616159334778786, -0.004052883945405483, 0.009180421009659767, 0.028098247945308685, 0.017902148887515068, 0.029015636071562767, 0.030116500332951546, 0.005340502131730318, -0.021755173802375793, 0.025018449872732162, -0.015582471154630184, 0.004698331467807293, 0.019461706280708313, -0.003869406646117568, -0.00508166803047061, 0.03653820976614952, 0.006136662792414427, 0.003343547461554408, 0.028937002643942833, 0.004265849012881517, 0.031767796725034714, -0.008361325599253178, -0.028622470796108246, -0.03462480008602142, -0.0262896865606308, -0.018334630876779556, -0.004206873942166567, -0.013760803267359734, -0.02639453113079071, -0.0036204017233103514, -0.01935686357319355, 0.012227456085383892, -0.011768762953579426, 0.0023770148400217295, 0.02113921381533146, -0.0025064318906515837, 0.006582250818610191, 0.003263276070356369, 0.013066209852695465, 0.019055435433983803, -0.007974713109433651, -0.017941465601325035, 0.039604902267456055, 0.01178842131048441, 0.0419376865029335, -0.031191153451800346, 0.01870158687233925, 0.013138290494680405, -0.028648680076003075, 0.002316401805728674, -0.010392682626843452, -0.04196389764547348, 0.03184643015265465, -0.008073003962635994, 0.017273083329200745, -0.004593486897647381, -0.006978692952543497, 0.031112520024180412, 0.04046986624598503, -0.015634892508387566, 0.002707929350435734, 0.004036501981317997, 0.0007638064562343061, 0.029303956776857376, -0.006657607387751341, -0.021309586241841316, -0.0024785827845335007, 0.0017315676668658853, 0.0077584716491401196, 0.026643535122275352, 0.0017741606570780277, -0.009580140002071857, 0.004265849012881517, 0.014651978388428688, -0.0167881790548563, -0.01293515507131815, -0.024808762595057487, 0.05892244726419449, 0.022711876779794693, 0.0016529345884919167, -0.027993405237793922, -0.001849517459049821, 0.024258330464363098, 0.0040823714807629585, -0.01597563736140728, 0.00483593950048089, -0.015189304947853088]'::vector(1536) as query_embedding
    -- Replace with your actual 1536-dimensional vector
),
ranked_results AS (
    SELECT 
        p.product_id,
        p.sku,
        p.product_name,
        p.product_description,
        p.base_price,
        c.category_name,
        pt.type_name,
        (1 - (pde.description_embedding <=> iv.query_embedding)) * 100 as similarity_percentage,
        (pde.description_embedding <=> iv.query_embedding) as cosine_distance,
        ROW_NUMBER() OVER (ORDER BY (pde.description_embedding <=> iv.query_embedding) ASC) as rn
    FROM retail.products p
    JOIN retail.categories c ON p.category_id = c.category_id
    JOIN retail.product_types pt ON p.type_id = pt.type_id
    JOIN retail.product_description_embeddings pde ON p.product_id = pde.product_id
    CROSS JOIN input_vector iv
    WHERE pde.description_embedding IS NOT NULL
)
SELECT 
    product_id, sku, product_name, product_description, base_price,
    category_name, type_name, similarity_percentage, cosine_distance
FROM ranked_results 
WHERE rn <= 10
ORDER BY rn;